# 영상 속 제품 등록 가이드

YouTube 영상에 관련 제품을 연결하는 방법을 설명합니다.

---

## 🎯 제품 연동 방식

### 1️⃣ 제품 코드 방식 (권장)

**가장 정확하고 권장되는 방법입니다.**

YouTube 영상 업로드 시 **영상 설명(Description)**에 아래 형식으로 추가:

```
[제품코드: P1001]
```

#### 예시: 영상 설명 작성법

```
🌸 압화 에코백 만들기 튜토리얼

안녕하세요, 프레스코21입니다!
오늘은 예쁜 압화 에코백을 만들어 볼게요.

📦 사용한 재료
- 압화 스타터 키트
- 에코백
- 투명 코팅제

🛒 재료 구매: 포에버러브
[제품코드: P1001]

#압화 #에코백만들기 #DIY #핸드메이드
```

### 2️⃣ 키워드 방식

제품 코드가 없을 경우, 영상 제목이나 설명에 포함된 키워드로 자동 매칭됩니다.

```json
// product-mapping.json
"keywords": {
  "압화 에코백": ["P1001"],
  "레진 키링": ["P1003"],
  "하바리움": ["P1004"]
}
```

영상 제목이 "압화 에코백 만들기" → 자동으로 P1001 제품 연결

---

## 📋 product-mapping.json 작성법

### 기본 구조

```json
{
  "version": "1.0",
  "lastUpdated": "2026-02-06",

  "products": {
    "제품코드": {
      "name": "제품명",
      "price": "가격",
      "image": "이미지URL",
      "link": "상세페이지링크"
    }
  },

  "keywords": {
    "키워드": ["제품코드"]
  }
}
```

### 실제 예시

```json
{
  "version": "1.0",
  "lastUpdated": "2026-02-06",

  "products": {
    "P1001": {
      "name": "압화 스타터 키트",
      "price": "35000",
      "image": "https://jewoo.img4.kr/products/starter-kit.jpg",
      "link": "/shop/shopdetail.html?branduid=1234567"
    },
    "P1002": {
      "name": "프리저브드 장미 10송이",
      "price": "28000",
      "image": "https://jewoo.img4.kr/products/rose-10.jpg",
      "link": "/shop/shopdetail.html?branduid=1234568"
    },
    "P1003": {
      "name": "UV 레진 200g + 몰드 세트",
      "price": "42000",
      "image": "https://jewoo.img4.kr/products/resin-set.jpg",
      "link": "/shop/shopdetail.html?branduid=1234569"
    },
    "P1004": {
      "name": "하바리움 오일 500ml",
      "price": "18000",
      "image": "https://jewoo.img4.kr/products/herbarium-oil.jpg",
      "link": "/shop/shopdetail.html?branduid=1234570"
    }
  },

  "keywords": {
    "압화 에코백": ["P1001"],
    "압화 스타터": ["P1001"],
    "압화 키트": ["P1001"],
    "프리저브드": ["P1002"],
    "보존화": ["P1002"],
    "장미": ["P1002"],
    "레진": ["P1003"],
    "몰드": ["P1003"],
    "UV레진": ["P1003"],
    "하바리움": ["P1004"],
    "플로리움": ["P1004"]
  }
}
```

---

## 🔎 메이크샵에서 상품 정보 찾기

### 상품 번호 (branduid) 확인 방법

**중요**: 메이크샵에는 "상품 코드"와 "상품 번호"가 있습니다. **상품 번호**를 사용해야 합니다!

```
메이크샵 관리자 > 상품 관리 > 상품 목록 > 상품 클릭
```

| 항목 | 설명 | 예시 | 용도 |
|------|------|------|------|
| **상품 번호** | 메이크샵이 자동 부여하는 고유 ID | `11701651` | ✅ 링크에 사용 |
| 상품 코드 | 관리용 코드 (선택 입력) | `ROSE-001` | ❌ 사용 안함 |

### 상품 상세 화면에서 확인

```
┌─────────────────────────────────────┐
│ 상품 정보                            │
├─────────────────────────────────────┤
│ 상품 번호: 11701651    ← 이 번호 사용 │
│ 상품 코드: ROSE-001                  │
│ 상품명: 장미접이식손거울/색상선택      │
│ 판매가: 4,400원                      │
└─────────────────────────────────────┘
```

### 제품 링크 만들기

상품 번호 `11701651`을 사용하여:

```
/shop/shopdetail.html?branduid=11701651
```

### 제품 이미지 URL 찾기

1. 메이크샵 관리자 > 상품 관리 > 상품 상세
2. 대표 이미지 우클릭 > "이미지 주소 복사"
3. 또는 상품 페이지에서 이미지 우클릭 > "이미지 주소 복사"

예시: `https://jewoo.img4.kr/products/11701651_main.jpg`

---

## ✏️ 새 제품 추가하기

### Step 1: 제품 정보 수집

| 항목 | 설명 | 예시 |
|------|------|------|
| 제품코드 | 자유롭게 정하는 식별자 | P1005, ROSE001, 장미거울 |
| 제품명 | 표시될 제품 이름 | 압화 액자 키트 |
| 가격 | 숫자만 (원 단위) | 45000 |
| 이미지 | 제품 이미지 URL | https://jewoo.img4.kr/... |
| 링크 | **상품 번호** 사용 | /shop/shopdetail.html?branduid=11701651 |

**참고**: 제품코드는 YouTube 영상 설명에 넣을 코드입니다. 원하는 형식으로 자유롭게 정하세요.

### Step 2: products에 추가

```json
"products": {
  "P1001": { ... },
  "P1002": { ... },
  "P1005": {
    "name": "압화 액자 키트",
    "price": "45000",
    "image": "https://jewoo.img4.kr/products/frame-kit.jpg",
    "link": "/shop/shopdetail.html?branduid=1234571"
  }
}
```

### Step 3: keywords에 추가 (선택)

```json
"keywords": {
  "압화 액자": ["P1005"],
  "액자 키트": ["P1005"],
  "액자 만들기": ["P1005"]
}
```

### Step 4: 파일 업로드

수정한 `product-mapping.json`을 FTP로 업로드:
```
/design/jewoo/youtube-product-integration/product-mapping.json
```

---

## ⚠️ 주의사항

### JSON 문법

1. **마지막 항목에 쉼표 없음**
```json
// ✅ 올바름
{
  "P1001": { ... },
  "P1002": { ... }  ← 쉼표 없음
}

// ❌ 잘못됨
{
  "P1001": { ... },
  "P1002": { ... },  ← 쉼표 있으면 오류
}
```

2. **문자열은 큰따옴표**
```json
// ✅ 올바름
"name": "압화 키트"

// ❌ 잘못됨
'name': '압화 키트'
```

3. **가격은 문자열로**
```json
// ✅ 올바름
"price": "35000"

// ❌ 잘못됨 (숫자로 쓰면 안됨)
"price": 35000
```

### 이미지 URL

- 절대 경로 사용 (https://로 시작)
- 정사각형 이미지 권장 (1:1 비율)
- 최소 200x200px 이상

### 제품 링크

- 메이크샵 상세페이지: `/shop/shopdetail.html?branduid=제품번호`
- branduid는 메이크샵 관리자에서 확인

---

## 🔍 매칭 우선순위

```
1순위: 제품 코드 [제품코드: P1001]
  ↓ (없으면)
2순위: 키워드 매칭 (영상 제목/설명에서 검색)
  ↓ (없으면)
3순위: "준비 중입니다" 메시지 표시
```

---

## 📝 운영 팁

### 새 영상 업로드 시 체크리스트

- [ ] 영상 설명에 `[제품코드: XXXX]` 추가
- [ ] product-mapping.json에 해당 제품 등록 확인
- [ ] 10-15분 후 사이트에서 확인 (캐시 갱신)

### 키워드 등록 팁

1. **구체적인 키워드 사용**
   - ✅ "압화 에코백 만들기"
   - ❌ "만들기" (너무 포괄적)

2. **여러 키워드 등록**
   ```json
   "keywords": {
     "압화 에코백": ["P1001"],
     "에코백 만들기": ["P1001"],
     "압화 가방": ["P1001"]
   }
   ```

3. **자주 사용하는 표현 포함**
   - 정식 명칭 + 줄임말
   - 한글 + 영문 (필요시)

---

## 🆘 문제 해결

### 제품이 안 나올 때

1. **제품 코드 형식 확인**
   ```
   ✅ [제품코드: P1001]
   ❌ [제품코드:P1001]  (공백 없음)
   ❌ [제품코드 P1001]  (콜론 없음)
   ❌ (제품코드: P1001) (대괄호 아님)
   ```

2. **product-mapping.json 확인**
   - 해당 제품코드가 products에 있는지
   - JSON 문법 오류 없는지

3. **캐시 삭제**
   - 브라우저 콘솔: `clearYouTubeHybridCache()`

### JSON 문법 검증

온라인 도구로 검증:
- https://jsonlint.com/
- JSON 붙여넣기 → Validate JSON 클릭

---

## 📊 예시: 전체 워크플로우

### 1. 새 영상 "레진 키링 만들기" 업로드

**YouTube 영상 설명:**
```
💎 레진으로 예쁜 키링 만들기!

오늘은 투명 레진으로 꽃 키링을 만들어 볼게요.
초보자도 쉽게 따라할 수 있어요!

📦 사용 재료
- UV 레진 200g
- 실리콘 몰드
- 압화꽃

🛒 재료 구매
[제품코드: P1003]

#레진공예 #키링만들기 #DIY
```

### 2. product-mapping.json 확인

```json
{
  "products": {
    "P1003": {
      "name": "UV 레진 200g + 몰드 세트",
      "price": "42000",
      "image": "https://jewoo.img4.kr/products/resin-set.jpg",
      "link": "/shop/shopdetail.html?branduid=1234569"
    }
  }
}
```

### 3. 결과

메인페이지 YouTube 섹션에서:
- 영상 옆에 "UV 레진 200g + 몰드 세트" 제품 표시
- 가격: 42,000원
- "제품 보기" 버튼 클릭 시 상세페이지 이동
