<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>클래스 상세 | PRESSCO21 포에버러브</title>
    <meta name="description" content="PRESSCO21 파트너 공방의 꽃 공예 클래스 상세 정보를 확인하세요.">
    <meta name="keywords" content="꽃 공예 클래스, 원데이클래스, 압화, 보존화, PRESSCO21 파트너">
    <meta property="og:title" content="클래스 상세 | PRESSCO21 포에버러브">
    <meta property="og:description" content="파트너 공방에서 진행하는 꽃 공예 클래스의 커리큘럼, 강사 소개, 후기를 확인하고 예약하세요.">
    <meta property="og:type" content="website">

    <!-- Pretendard 웹폰트 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable-dynamic-subset.min.css">
    <!-- Swiper CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
    <!-- flatpickr CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <!-- 페이지 스타일 -->
    <link rel="stylesheet" href="css.css">
</head>
<body>

<!-- ============================================
     파트너 클래스 상세 페이지
     CSS 스코핑: .class-detail
     ============================================ -->
<div class="class-detail">

    <!-- 페이지 헤더: Breadcrumb -->
    <header class="detail-header">
        <div class="detail-header__inner">
            <nav class="detail-breadcrumb" aria-label="페이지 경로">
                <a href="/">HOME</a>
                <span class="detail-breadcrumb__sep" aria-hidden="true">/</span>
                <a href="../목록/">파트너 클래스</a>
                <span class="detail-breadcrumb__sep" aria-hidden="true">/</span>
                <span class="detail-breadcrumb__current" id="breadcrumbTitle">클래스 상세</span>
            </nav>
        </div>
    </header>

    <!-- 로딩 상태 (초기 표시, JS로 토글) -->
    <div class="detail-loading" id="detailLoading" role="status" aria-label="로딩 중">
        <div class="detail-loading__inner">
            <!-- 갤러리 스켈레톤 -->
            <div class="skeleton-gallery">
                <div class="skeleton-gallery__main"></div>
                <div class="skeleton-gallery__thumbs">
                    <div class="skeleton-gallery__thumb"></div>
                    <div class="skeleton-gallery__thumb"></div>
                    <div class="skeleton-gallery__thumb"></div>
                </div>
            </div>
            <!-- 정보 스켈레톤 -->
            <div class="skeleton-info">
                <div class="skeleton-line skeleton-line--title"></div>
                <div class="skeleton-line skeleton-line--medium"></div>
                <div class="skeleton-line skeleton-line--short"></div>
                <div class="skeleton-line skeleton-line--long"></div>
                <div class="skeleton-line skeleton-line--long"></div>
                <div class="skeleton-line skeleton-line--medium"></div>
            </div>
        </div>
    </div>

    <!-- 에러 상태 (기본 숨김, JS 토글) -->
    <div class="detail-error" id="detailError" style="display:none;" role="alert">
        <div class="detail-error__inner">
            <svg class="detail-error__icon" width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <circle cx="32" cy="32" r="30" stroke="#C4956A" stroke-width="2" stroke-dasharray="6 4"/>
                <path d="M32 18v18" stroke="#C4956A" stroke-width="3" stroke-linecap="round"/>
                <circle cx="32" cy="44" r="2" fill="#C4956A"/>
            </svg>
            <p class="detail-error__title">클래스 정보를 불러올 수 없습니다</p>
            <p class="detail-error__desc">잠시 후 다시 시도해 주세요.</p>
            <div class="detail-error__actions">
                <button class="detail-error__retry" type="button" id="errorRetryBtn">다시 시도</button>
                <a href="../목록/" class="detail-error__back">목록으로 돌아가기</a>
            </div>
        </div>
    </div>

    <!-- 메인 콘텐츠 (기본 숨김, API 성공 후 표시) -->
    <div class="detail-content" id="detailContent" style="display:none;">

        <!-- 메인 레이아웃: 2컬럼 (좌: 콘텐츠, 우: 예약패널 sticky) -->
        <div class="detail-layout">

            <!-- 콘텐츠 영역 -->
            <main class="detail-main">

                <!-- 이미지 갤러리 (Swiper) -->
                <section class="detail-gallery" id="detailGallery" aria-label="클래스 이미지 갤러리">
                    <!-- 메인 슬라이더 -->
                    <div class="gallery-main">
                        <div class="swiper gallery-swiper" id="galleryMain">
                            <div class="swiper-wrapper" id="gallerySlides">
                                <!-- JS: 동적 슬라이드 생성 -->
                            </div>
                            <div class="swiper-button-prev gallery-nav gallery-nav--prev" aria-label="이전 이미지"></div>
                            <div class="swiper-button-next gallery-nav gallery-nav--next" aria-label="다음 이미지"></div>
                            <div class="swiper-pagination gallery-pagination"></div>
                        </div>
                    </div>
                    <!-- 썸네일 슬라이더 -->
                    <div class="gallery-thumbs">
                        <div class="swiper gallery-thumbs-swiper" id="galleryThumbs">
                            <div class="swiper-wrapper" id="galleryThumbSlides">
                                <!-- JS: 동적 썸네일 생성 -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- 클래스 기본 정보 (모바일에서만 표시, PC는 예약패널에 포함) -->
                <section class="detail-info detail-info--mobile" id="detailInfoMobile" aria-label="클래스 기본 정보">
                    <!-- JS: 동적 렌더링 -->
                </section>

                <!-- 탭 내비게이션 -->
                <nav class="detail-tabs" id="detailTabs" role="tablist" aria-label="클래스 상세 탭">
                    <button class="detail-tab is-active" role="tab" id="tab-description" aria-selected="true" aria-controls="tabDescription" data-tab="description">강의 소개</button>
                    <button class="detail-tab" role="tab" id="tab-curriculum" aria-selected="false" aria-controls="tabCurriculum" data-tab="curriculum">커리큘럼</button>
                    <button class="detail-tab" role="tab" id="tab-instructor" aria-selected="false" aria-controls="tabInstructor" data-tab="instructor">강사/공방</button>
                    <button class="detail-tab" role="tab" id="tab-reviews" aria-selected="false" aria-controls="tabReviews" data-tab="reviews">수강 후기</button>
                </nav>

                <!-- 강의 소개 -->
                <section class="detail-section detail-description" id="tabDescription" role="tabpanel" aria-labelledby="tab-description">
                    <div class="detail-description__content" id="descriptionContent">
                        <!-- JS: sanitized HTML -->
                    </div>
                </section>

                <!-- 커리큘럼 아코디언 -->
                <section class="detail-section detail-curriculum" id="tabCurriculum" role="tabpanel" aria-labelledby="tab-curriculum" style="display:none;">
                    <h2 class="detail-section__title">커리큘럼</h2>
                    <div class="curriculum-list" id="curriculumList">
                        <!-- JS: 아코디언 아이템 동적 생성 -->
                    </div>
                </section>

                <!-- 강사/공방 프로필 -->
                <section class="detail-section detail-instructor" id="tabInstructor" role="tabpanel" aria-labelledby="tab-instructor" style="display:none;">
                    <h2 class="detail-section__title">강사 / 공방 소개</h2>
                    <div class="instructor-card" id="instructorCard">
                        <!-- JS: 동적 렌더링 -->
                    </div>
                </section>

                <!-- 수강에 필요한 재료 (데이터 있을 때만 표시) -->
                <section class="detail-section detail-materials" id="detailMaterials" style="display:none;" aria-label="수강에 필요한 재료">
                    <h2 class="detail-section__title">수강에 필요한 재료</h2>
                    <p class="detail-materials__note" id="materialsNote"></p>
                    <div class="materials-grid" id="materialsGrid">
                        <!-- JS: 재료 상품 카드 동적 생성 -->
                    </div>
                </section>

                <!-- 관련 YouTube 영상 (데이터 있을 때만 표시) -->
                <section class="detail-section detail-youtube" id="detailYoutube" style="display:none;" aria-label="관련 YouTube 영상">
                    <h2 class="detail-section__title">관련 영상</h2>
                    <div class="youtube-embed" id="youtubeEmbed">
                        <!-- JS: iframe 동적 삽입 -->
                    </div>
                </section>

                <!-- 수강 후기 -->
                <section class="detail-section detail-reviews" id="tabReviews" role="tabpanel" aria-labelledby="tab-reviews" style="display:none;">
                    <h2 class="detail-section__title">수강 후기</h2>
                    <div class="reviews-summary" id="reviewsSummary">
                        <!-- JS: 별점 요약 -->
                    </div>
                    <div class="reviews-list" id="reviewsList">
                        <!-- JS: 후기 카드 목록 -->
                    </div>
                    <div class="reviews-empty" id="reviewsEmpty" style="display:none;">
                        <p>아직 등록된 후기가 없습니다.</p>
                        <p class="reviews-empty__sub">첫 번째 후기를 남겨주세요!</p>
                    </div>
                </section>

            </main>

            <!-- 예약 패널 (데스크탑: sticky 사이드바) -->
            <aside class="detail-booking" id="detailBooking" aria-label="클래스 예약">
                <!-- 클래스 기본 정보 (PC에서만 표시) -->
                <div class="booking-info" id="bookingInfo">
                    <!-- JS: 동적 렌더링 -->
                </div>

                <!-- 날짜 선택 -->
                <div class="booking-date">
                    <label class="booking-label" for="datePicker">
                        <svg class="booking-label__icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                            <rect x="1" y="3" width="14" height="12" rx="2" stroke="currentColor" stroke-width="1.3"/>
                            <path d="M1 7h14M5 1v4M11 1v4" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/>
                        </svg>
                        날짜 선택
                    </label>
                    <input type="text" id="datePicker" class="booking-input" placeholder="날짜를 선택해주세요" readonly>
                </div>

                <!-- 인원 선택 -->
                <div class="booking-quantity">
                    <label class="booking-label">
                        <svg class="booking-label__icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                            <circle cx="8" cy="5" r="3" stroke="currentColor" stroke-width="1.3"/>
                            <path d="M2 14c0-3.3 2.7-6 6-6s6 2.7 6 6" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/>
                        </svg>
                        인원 선택
                    </label>
                    <div class="booking-counter">
                        <button class="booking-counter__btn" type="button" id="quantityMinus" aria-label="인원 감소">
                            <svg width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M3 7h8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
                        </button>
                        <span class="booking-counter__value" id="quantityValue" aria-live="polite">1</span>
                        <button class="booking-counter__btn" type="button" id="quantityPlus" aria-label="인원 증가">
                            <svg width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M7 3v8M3 7h8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
                        </button>
                    </div>
                    <p class="booking-max" id="bookingMax"></p>
                </div>

                <!-- 가격 요약 -->
                <div class="booking-price" id="bookingPrice">
                    <!-- JS: 가격 계산 -->
                </div>

                <!-- 예약 버튼 -->
                <button class="booking-submit" type="button" id="bookingSubmit" disabled>
                    예약하기
                </button>

                <!-- 안내 문구 -->
                <p class="booking-notice">예약 확정 전 결제가 진행되지 않습니다.</p>
            </aside>

        </div><!-- /.detail-layout -->

    </div><!-- /.detail-content -->

    <!-- 모바일 하단 고정 예약 바 -->
    <div class="booking-bar-mobile" id="bookingBarMobile" style="display:none;">
        <div class="booking-bar-mobile__price">
            <span class="booking-bar-mobile__amount" id="mobilePrice">--</span>
            <span class="booking-bar-mobile__unit">/1인</span>
        </div>
        <button class="booking-bar-mobile__btn" type="button" id="mobileBookingBtn">예약하기</button>
    </div>

</div><!-- /.class-detail -->

<!-- Swiper JS -->
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<!-- flatpickr JS -->
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<!-- flatpickr 한국어 -->
<script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/ko.js"></script>
<!-- 페이지 스크립트 -->
<script src="js.js"></script>

</body>
</html>
