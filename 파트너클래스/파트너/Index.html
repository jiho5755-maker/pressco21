<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>파트너 대시보드 | PRESSCO21 포에버러브</title>
    <meta name="description" content="PRESSCO21 파트너 전용 대시보드. 내 강의 관리, 예약 현황, 수익 리포트, 후기 관리를 한 곳에서.">
    <meta name="robots" content="noindex, nofollow">
    <meta property="og:title" content="파트너 대시보드 | PRESSCO21">
    <meta property="og:description" content="PRESSCO21 파트너 전용 관리 페이지입니다.">
    <meta property="og:type" content="website">

    <!-- Pretendard 웹폰트 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable-dynamic-subset.min.css">

    <!-- 페이지 스타일 -->
    <link rel="stylesheet" href="css.css">
</head>
<body>

<!-- ============================================
     파트너 대시보드 페이지
     CSS 스코핑: .partner-dashboard
     ============================================ -->
<div class="partner-dashboard">

    <!-- 1. 숨김 가상태그 span (JS에서 읽기용) -->
    <span id="pdMemberId" style="display:none"><!--/user_id/--></span>

    <!-- 2. 미로그인/비파트너 안내 영역 -->
    <div id="pdNoticeArea" style="display:none">
        <!-- 미로그인 안내 -->
        <div id="pdNoticeLogin" class="pd-notice" style="display:none">
            <div class="pd-notice__inner">
                <div class="pd-notice__icon">
                    <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <circle cx="32" cy="24" r="10" stroke="#3d2c1e" stroke-width="2" fill="none"/>
                        <path d="M12 52c0-11.046 8.954-20 20-20s20 8.954 20 20" stroke="#3d2c1e" stroke-width="2" fill="none" stroke-linecap="round"/>
                    </svg>
                </div>
                <h2 class="pd-notice__title">로그인이 필요합니다</h2>
                <p class="pd-notice__desc">파트너 대시보드는 로그인 후 이용하실 수 있어요.</p>
                <a href="/member/login.html" class="pd-notice__btn">로그인하기</a>
            </div>
        </div>

        <!-- 비파트너 안내 -->
        <div id="pdNoticeNonPartner" class="pd-notice" style="display:none">
            <div class="pd-notice__inner">
                <div class="pd-notice__icon">
                    <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <circle cx="32" cy="32" r="28" stroke="#C4956A" stroke-width="2" stroke-dasharray="6 4" fill="none"/>
                        <path d="M32 16c-3 0-6 5-6 12s3 14 6 16c3-2 6-10 6-16s-3-12-6-12z" fill="#E8D5C4" stroke="#C4956A" stroke-width="1.5"/>
                        <path d="M22 34c-2-2-6-1-8 3s-1 9 1 10c2-1 5-5 6-8l1-5z" fill="#D4E5D0" stroke="#7d9675" stroke-width="1.2"/>
                        <path d="M42 34c2-2 6-1 8 3s1 9-1 10c-2-1-5-5-6-8l-1-5z" fill="#D4E5D0" stroke="#7d9675" stroke-width="1.2"/>
                        <path d="M32 44v10" stroke="#7d9675" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </div>
                <h2 class="pd-notice__title">파트너 전용 페이지입니다</h2>
                <p class="pd-notice__desc">PRESSCO21 파트너가 되시면 강의 관리, 예약 현황, 수익 리포트 등<br>다양한 기능을 이용하실 수 있어요.</p>
                <a href="https://forms.gle/PARTNER_APPLY_FORM" class="pd-notice__btn" target="_blank" rel="noopener">파트너 신청하기</a>
                <p class="pd-notice__sub">수수료는 적립금으로 돌아오고, 전국 단위 홍보는 저희가.</p>
            </div>
        </div>

        <!-- 심사중 안내 -->
        <div id="pdNoticePending" class="pd-notice" style="display:none">
            <div class="pd-notice__inner">
                <div class="pd-notice__icon">
                    <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <circle cx="32" cy="32" r="28" stroke="#b89b5e" stroke-width="2" fill="none"/>
                        <circle cx="32" cy="32" r="20" stroke="#b89b5e" stroke-width="1.5" stroke-dasharray="4 3" fill="none"/>
                        <path d="M32 20v12l8 4" stroke="#b89b5e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <h2 class="pd-notice__title">파트너 심사가 진행 중이에요</h2>
                <p class="pd-notice__desc">신청해주셔서 감사합니다.<br>1~3 영업일 이내에 결과를 안내드릴게요.</p>
                <p class="pd-notice__sub">궁금한 점이 있으시면 고객센터로 편하게 연락주세요.</p>
            </div>
        </div>

        <!-- 비활성 안내 -->
        <div id="pdNoticeInactive" class="pd-notice" style="display:none">
            <div class="pd-notice__inner">
                <div class="pd-notice__icon">
                    <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <circle cx="32" cy="32" r="28" stroke="#999" stroke-width="2" fill="none"/>
                        <path d="M22 22l20 20M42 22L22 42" stroke="#999" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </div>
                <h2 class="pd-notice__title">파트너 계정이 비활성 상태입니다</h2>
                <p class="pd-notice__desc">자세한 내용은 고객센터로 문의해주세요.</p>
            </div>
        </div>
    </div>

    <!-- 3. 대시보드 메인 (파트너 인증 후 표시) -->
    <div id="pdMainArea" style="display:none">

        <!-- 3-1. 헤더: 파트너 정보 + 등급 배지 + 월 선택 -->
        <header class="pd-header">
            <div class="pd-header__inner">
                <div class="pd-header__info">
                    <div class="pd-header__greeting">
                        <span id="pdPartnerName" class="pd-header__name"></span>
                        <span id="pdGradeBadge" class="pd-grade-badge"></span>
                    </div>
                    <p class="pd-header__subtitle" id="pdHeaderSubtitle"></p>
                </div>
                <div class="pd-header__actions">
                    <div class="pd-month-selector">
                        <button type="button" class="pd-month-selector__prev" id="pdMonthPrev" aria-label="이전 달">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                <path d="M10 4L6 8l4 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                        <span class="pd-month-selector__label" id="pdMonthLabel"></span>
                        <button type="button" class="pd-month-selector__next" id="pdMonthNext" aria-label="다음 달">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                <path d="M6 4l4 4-4 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- 3-2. 요약 카드 4개 -->
        <div class="pd-summary" id="pdSummaryCards">
            <div class="pd-summary__card">
                <div class="pd-summary__icon pd-summary__icon--revenue">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <rect x="2" y="6" width="20" height="14" rx="2" stroke="currentColor" stroke-width="1.5"/>
                        <path d="M2 10h20" stroke="currentColor" stroke-width="1.5"/>
                        <circle cx="12" cy="16" r="2" stroke="currentColor" stroke-width="1.2"/>
                    </svg>
                </div>
                <p class="pd-summary__label">이번 달 매출</p>
                <p class="pd-summary__value" id="pdSumRevenue">-</p>
            </div>
            <div class="pd-summary__card">
                <div class="pd-summary__icon pd-summary__icon--fee">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <path d="M12 2v20M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <p class="pd-summary__label">수수료 (적립금)</p>
                <p class="pd-summary__value" id="pdSumFee">-</p>
            </div>
            <div class="pd-summary__card">
                <div class="pd-summary__icon pd-summary__icon--reserve">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <path d="M20 12a8 8 0 01-8 8m0 0a8 8 0 01-8-8m8 8V4m0 0a8 8 0 018 8m-8-8a8 8 0 00-8 8" stroke="currentColor" stroke-width="1.5"/>
                        <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="1.5"/>
                    </svg>
                </div>
                <p class="pd-summary__label">사용 가능 적립금</p>
                <p class="pd-summary__value" id="pdSumReserve">-</p>
            </div>
            <div class="pd-summary__card">
                <div class="pd-summary__icon pd-summary__icon--booking">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <rect x="3" y="4" width="18" height="18" rx="2" stroke="currentColor" stroke-width="1.5"/>
                        <path d="M16 2v4M8 2v4M3 10h18" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        <path d="M8 14h.01M12 14h.01M16 14h.01M8 18h.01M12 18h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </div>
                <p class="pd-summary__label">이번 달 예약</p>
                <p class="pd-summary__value" id="pdSumBooking">-</p>
            </div>
        </div>

        <!-- 3-3. 탭 네비게이션 -->
        <nav class="pd-tabs" role="tablist" aria-label="대시보드 메뉴">
            <button type="button" class="pd-tabs__btn is-active" role="tab" aria-selected="true" aria-controls="pdTabClasses" data-tab="classes" id="pdTabBtnClasses">내 강의</button>
            <button type="button" class="pd-tabs__btn" role="tab" aria-selected="false" aria-controls="pdTabBookings" data-tab="bookings" id="pdTabBtnBookings">예약 현황</button>
            <button type="button" class="pd-tabs__btn" role="tab" aria-selected="false" aria-controls="pdTabRevenue" data-tab="revenue" id="pdTabBtnRevenue">수익 리포트</button>
            <button type="button" class="pd-tabs__btn" role="tab" aria-selected="false" aria-controls="pdTabReviews" data-tab="reviews" id="pdTabBtnReviews">후기 관리</button>
        </nav>

        <!-- 3-4. 탭 콘텐츠 -->

        <!-- 탭 1: 내 강의 -->
        <div id="pdTabClasses" class="pd-tab-content is-active" role="tabpanel" aria-labelledby="pdTabBtnClasses">
            <div class="pd-tab-header">
                <h2 class="pd-tab-header__title">내 강의</h2>
                <button type="button" class="pd-btn pd-btn--outline" id="pdBtnNewClass">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <path d="M8 3v10M3 8h10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>
                    새 강의 등록
                </button>
            </div>
            <div id="pdClassList" class="pd-class-list">
                <!-- JS: 강의 카드 동적 렌더링 -->
            </div>
            <!-- 빈 상태 -->
            <div id="pdClassEmpty" class="pd-empty" style="display:none">
                <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="pd-empty__icon">
                    <rect x="6" y="10" width="36" height="28" rx="4" stroke="#C4956A" stroke-width="1.5" stroke-dasharray="4 3" fill="none"/>
                    <path d="M18 22h12M18 28h8" stroke="#C4956A" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
                <p class="pd-empty__text">아직 등록된 강의가 없어요. 첫 수업을 등록해볼까요?</p>
            </div>
        </div>

        <!-- 탭 2: 예약 현황 -->
        <div id="pdTabBookings" class="pd-tab-content" role="tabpanel" aria-labelledby="pdTabBtnBookings">
            <div class="pd-tab-header">
                <h2 class="pd-tab-header__title">예약 현황</h2>
            </div>
            <!-- 필터 바 -->
            <div class="pd-filter-bar">
                <div class="pd-filter-bar__group">
                    <label for="pdBookingPeriod" class="pd-filter-bar__label">기간</label>
                    <select id="pdBookingPeriod" class="pd-select">
                        <option value="this_week">이번 주</option>
                        <option value="this_month" selected>이번 달</option>
                        <option value="last_month">지난 달</option>
                        <option value="custom">직접 입력</option>
                    </select>
                </div>
                <div class="pd-filter-bar__group pd-filter-bar__custom" id="pdBookingCustomDate" style="display:none">
                    <input type="date" id="pdBookingDateFrom" class="pd-input pd-input--date" aria-label="시작일">
                    <span class="pd-filter-bar__sep">~</span>
                    <input type="date" id="pdBookingDateTo" class="pd-input pd-input--date" aria-label="종료일">
                </div>
                <div class="pd-filter-bar__group">
                    <label for="pdBookingClass" class="pd-filter-bar__label">강의</label>
                    <select id="pdBookingClass" class="pd-select">
                        <option value="">전체 강의</option>
                        <!-- JS: 내 강의 목록 동적 생성 -->
                    </select>
                </div>
            </div>
            <!-- 예약 상태 요약 -->
            <div class="pd-booking-summary" id="pdBookingSummary">
                <!-- JS: 상태별 카운트 표시 -->
            </div>
            <!-- 예약 테이블 (PC) / 카드 (모바일) -->
            <div id="pdBookingTable" class="pd-table-wrap">
                <!-- JS: 테이블 동적 렌더링 -->
            </div>
            <!-- 빈 상태 -->
            <div id="pdBookingEmpty" class="pd-empty" style="display:none">
                <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="pd-empty__icon">
                    <rect x="8" y="8" width="32" height="32" rx="4" stroke="#C4956A" stroke-width="1.5" stroke-dasharray="4 3" fill="none"/>
                    <path d="M16 6v6M32 6v6M8 18h32" stroke="#C4956A" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
                <p class="pd-empty__text">아직 예약이 없어요. 수업 일정을 추가하면 수강생을 만날 수 있어요.</p>
            </div>
        </div>

        <!-- 탭 3: 수익 리포트 -->
        <div id="pdTabRevenue" class="pd-tab-content" role="tabpanel" aria-labelledby="pdTabBtnRevenue">
            <div class="pd-tab-header">
                <h2 class="pd-tab-header__title">수익 리포트</h2>
                <div class="pd-month-picker">
                    <label for="pdRevenueMonth" class="sr-only">월 선택</label>
                    <select id="pdRevenueMonth" class="pd-select">
                        <!-- JS: 최근 6개월 동적 생성 -->
                    </select>
                </div>
            </div>
            <!-- 수익 집계 카드 -->
            <div class="pd-revenue-summary" id="pdRevenueSummary">
                <!-- JS: 동적 렌더링 -->
            </div>
            <!-- 정산 내역 테이블 -->
            <div id="pdRevenueTable" class="pd-table-wrap">
                <!-- JS: 테이블 동적 렌더링 -->
            </div>
            <!-- 빈 상태 -->
            <div id="pdRevenueEmpty" class="pd-empty" style="display:none">
                <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="pd-empty__icon">
                    <rect x="6" y="12" width="36" height="24" rx="3" stroke="#C4956A" stroke-width="1.5" stroke-dasharray="4 3" fill="none"/>
                    <path d="M6 20h36" stroke="#C4956A" stroke-width="1.5"/>
                    <circle cx="24" cy="28" r="4" stroke="#C4956A" stroke-width="1.2" fill="none"/>
                </svg>
                <p class="pd-empty__text">아직 정산 내역이 없어요. 첫 수업이 완료되면 여기에 표시돼요.</p>
            </div>
        </div>

        <!-- 탭 4: 후기 관리 -->
        <div id="pdTabReviews" class="pd-tab-content" role="tabpanel" aria-labelledby="pdTabBtnReviews">
            <div class="pd-tab-header">
                <h2 class="pd-tab-header__title">후기 관리</h2>
                <div class="pd-filter-bar__group">
                    <label for="pdReviewClass" class="pd-filter-bar__label">강의</label>
                    <select id="pdReviewClass" class="pd-select">
                        <option value="">전체 강의</option>
                        <!-- JS: 내 강의 목록 동적 생성 -->
                    </select>
                </div>
            </div>
            <!-- 별점 분포 -->
            <div id="pdRatingDist" class="pd-rating-dist">
                <!-- JS: 별점 분포 동적 렌더링 -->
            </div>
            <!-- 후기 목록 -->
            <div id="pdReviewList" class="pd-review-list">
                <!-- JS: 후기 카드 동적 렌더링 -->
            </div>
            <!-- 페이지네이션 -->
            <div id="pdReviewPagination" class="pd-pagination" style="display:none">
                <!-- JS: 동적 렌더링 -->
            </div>
            <!-- 빈 상태 -->
            <div id="pdReviewEmpty" class="pd-empty" style="display:none">
                <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="pd-empty__icon">
                    <path d="M24 6l4.47 9.06 10 1.45-7.24 7.05 1.71 9.97L24 29.27l-8.94 4.26 1.71-9.97-7.24-7.05 10-1.45L24 6z" stroke="#C4956A" stroke-width="1.5" fill="none" stroke-linejoin="round"/>
                </svg>
                <p class="pd-empty__text">아직 후기가 없어요. 첫 수강생이 소중한 경험을 남겨줄 거예요.</p>
            </div>
        </div>

    </div><!-- /#pdMainArea -->

    <!-- 4. 로딩 오버레이 -->
    <div id="pdLoadingOverlay" class="pd-loading" style="display:none" aria-live="polite" aria-label="로딩 중">
        <div class="pd-loading__spinner">
            <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <circle cx="20" cy="20" r="16" stroke="#E8E2DB" stroke-width="3"/>
                <path d="M36 20a16 16 0 00-16-16" stroke="#7d9675" stroke-width="3" stroke-linecap="round">
                    <animateTransform attributeName="transform" type="rotate" from="0 20 20" to="360 20 20" dur="0.8s" repeatCount="indefinite"/>
                </path>
            </svg>
        </div>
    </div>

    <!-- 5. 새 강의 등록 모달 -->
    <div id="pdNewClassModal" class="pd-modal" style="display:none" role="dialog" aria-modal="true" aria-labelledby="pdNewClassModalTitle">
        <div class="pd-modal__backdrop"></div>
        <div class="pd-modal__content">
            <div class="pd-modal__header">
                <h3 class="pd-modal__title" id="pdNewClassModalTitle">새 강의 등록 안내</h3>
                <button type="button" class="pd-modal__close" aria-label="닫기">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <path d="M5 5l10 10M15 5L5 15" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
                    </svg>
                </button>
            </div>
            <div class="pd-modal__body">
                <p>새 강의 등록은 아래 절차로 진행됩니다.</p>
                <ol class="pd-modal__steps">
                    <li>Google Forms에서 강의 정보를 작성해주세요.</li>
                    <li>PRESSCO21 관리자가 검수합니다. (1~2 영업일)</li>
                    <li>검수 통과 시 자동으로 클래스 플랫폼에 노출됩니다.</li>
                </ol>
                <p class="pd-modal__note">궁금한 점이 있으시면 고객센터로 편하게 연락주세요.</p>
            </div>
            <div class="pd-modal__footer">
                <a href="https://forms.gle/CLASS_REGISTER_FORM" class="pd-btn pd-btn--primary" target="_blank" rel="noopener">강의 등록 신청</a>
                <button type="button" class="pd-btn pd-btn--outline pd-modal__cancel">닫기</button>
            </div>
        </div>
    </div>

    <!-- 6. 후기 답변 모달 -->
    <div id="pdReplyModal" class="pd-modal" style="display:none" role="dialog" aria-modal="true" aria-labelledby="pdReplyModalTitle">
        <div class="pd-modal__backdrop"></div>
        <div class="pd-modal__content">
            <div class="pd-modal__header">
                <h3 class="pd-modal__title" id="pdReplyModalTitle">후기 답변</h3>
                <button type="button" class="pd-modal__close" aria-label="닫기">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <path d="M5 5l10 10M15 5L5 15" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
                    </svg>
                </button>
            </div>
            <div class="pd-modal__body">
                <div id="pdReplyReviewPreview" class="pd-reply-preview">
                    <!-- JS: 원본 후기 미리보기 -->
                </div>
                <label for="pdReplyTextarea" class="pd-label">답변 내용</label>
                <textarea id="pdReplyTextarea" class="pd-textarea" rows="4" maxlength="500" placeholder="수강생에게 감사의 마음을 전해보세요."></textarea>
                <p class="pd-textarea__counter"><span id="pdReplyCharCount">0</span>/500</p>
            </div>
            <div class="pd-modal__footer">
                <button type="button" class="pd-btn pd-btn--primary" id="pdReplySubmit">답변 저장</button>
                <button type="button" class="pd-btn pd-btn--outline pd-modal__cancel">취소</button>
            </div>
        </div>
    </div>

    <!-- 7. 토스트 알림 -->
    <div id="pdToastContainer" class="pd-toast-container" aria-live="polite"></div>

</div><!-- /.partner-dashboard -->

<!-- 페이지 스크립트 -->
<script src="js.js"></script>

</body>
</html>
